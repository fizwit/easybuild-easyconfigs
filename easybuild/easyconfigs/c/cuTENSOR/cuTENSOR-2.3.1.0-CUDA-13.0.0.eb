easyblock = 'Tarball'

name = 'cuTENSOR'
version = '2.3.1.0'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://developer.nvidia.com/cutensor'
description = """The cuTENSOR Library is a GPU-accelerated tensor linear algebra library providing tensor contraction,
 reduction and elementwise operations."""

toolchain = SYSTEM

local_arch = {
    'aarch64': 'sbsa'
}
source_urls = [
    'https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-%s/' % local_arch.get(ARCH, ARCH)
]
sources = ['libcutensor-linux-%s-%%(version)s_cuda13-archive.tar.xz' % local_arch.get(ARCH, ARCH)]

checksums = [{
    'libcutensor-linux-sbsa-%(version)s_cuda13-archive.tar.xz':
        '2e4c24bd1621dac7497ca9edf90bfc5dbdcc38490dafd35821066f96f2934aef',
    'libcutensor-linux-x86_64-%(version)s_cuda13-archive.tar.xz':
        '9cb1125f7de01ca319b5c72edeb7169b679b72beacc90354fb18a14056e24372',
}]


dependencies = [('CUDA', '13.0.0')]

sanity_check_paths = {
    'files': ['include/cutensor.h', 'include/cutensor/types.h',
              'lib/libcutensor.%s' % (SHLIB_EXT),
              'lib/libcutensor_static.a'],
    'dirs': [],
}

moduleclass = 'lib'
