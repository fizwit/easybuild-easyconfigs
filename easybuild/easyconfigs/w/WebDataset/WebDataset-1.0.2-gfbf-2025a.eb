easyblock = 'PythonBundle'

name = 'WebDataset'
version = '1.0.2'

homepage = 'https://github.com/webdataset/webdataset'
description = """A high-performance Python-based I/O system for large (and small) deep learning
problems, with strong support for PyTorch.
"""
github_account = 'webdataset'

toolchain = {'name': 'gfbf', 'version': '2025a'}

# WebDataset has many optional dependencies, being PyTorch the main one
# These are left out of the installation to allow the user load any combination of tools needed
# see: https://github.com/webdataset/webdataset/blob/main/pyproject.toml#L208
dependencies = [
    ('Python', '3.13.1'),
    ('SciPy-bundle', '2025.06'),
    ('PyYAML', '6.0.2'),
]

exts_list = [
    ('braceexpand', '0.1.7', {
        'checksums': ['e6e539bd20eaea53547472ff94f4fb5c3d3bf9d0a89388c4b56663aba765f705'],
    }),
    ('webdataset', version, {
        'checksums': ['7f0498be827cfa46cc5430a58768a24e2c6a410676a61be1838f53d61afdaab4'],
    }),
]

moduleclass = 'tools'
