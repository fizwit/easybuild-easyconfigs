easyblock = 'PythonPackage'

name = 'AMAS'
version = '1.02'
_commit = '2e93d31638625135aa48a68251c363ac23a47c4a'

homepage = 'https://github.com/marekborowiec/AMAS'
description = """Calculate summary statistics and manipulate multiple sequence alignments"""

toolchain = {'name': 'GCCcore', 'version': '13.3.0'}

github_account = 'marekborowiec'
source_urls = [GITHUB_LOWER_SOURCE]
sources = [{'download_filename': '%s.tar.gz' % _commit, 'filename': SOURCE_TAR_GZ}]
checksums = ['6f7f901a464d7c1949a8c0f53ca52fb0ce74ab5bb3663bd15fd4d1c4bc413c12']

builddependencies = [('binutils', '2.42')]

dependencies = [
    ('Python', '3.12.3'),
]

postinstallcmds = [
    'mkdir %(installdir)s/bin',
    'cd %(installdir)s/bin && ln -s %(installdir)s/lib/python%(pyshortver)s/site-packages/amas/AMAS.py AMAS',
    'chmod a+x %(installdir)s/bin/AMAS',
]

sanity_check_paths = {
    'files': ['bin/AMAS'],
    'dirs': [],
}

sanity_check_commands = [
    "AMAS -h",
]

moduleclass = 'bio'
