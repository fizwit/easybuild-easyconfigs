easyblock = 'MesonNinja'

name = 'shared-mime-info'
version = '2.4'

homepage = 'https://gitlab.freedesktop.org/xdg/shared-mime-info'
description = """The shared-mime-info package contains:
The core database of common MIME types, their file extensions and icon names.
The update-mime-database command, used to extend the DB and install a new MIME data.
The freedesktop.org shared MIME database spec.
It is used by GLib, GNOME, KDE, XFCE and many others."""

toolchain = {'name': 'GCCcore', 'version': '14.2.0'}

source_urls = ['https://gitlab.freedesktop.org/xdg/shared-mime-info/-/archive/%(version)s']
sources = [SOURCELOWER_TAR_GZ]
checksums = ['531291d0387eb94e16e775d7e73788d06d2b2fdd8cd2ac6b6b15287593b6a2de']

builddependencies = [
    ('binutils', '2.42'),
    ('Meson', '1.6.1'),
    ('Ninja', '1.12.1'),
    ('pkgconf', '2.3.0'),
]

dependencies = [
    ('libxml2', '2.13.4'),
    ('GLib', '2.85.1'),
]

sanity_check_paths = {
    'files': ['bin/update-mime-database'],
    'dirs': ['share/mime'],
}

sanity_check_commands = ['update-mime-database -h']

moduleclass = 'tools'
