easyblock = 'PythonBundle'

name = 'librosa'
version = '0.11.0'

homepage = 'https://librosa.org/'
description = """Audio and music processing in Python"""

toolchain = {'name': 'foss', 'version': '2025b'}

builddependencies = [
    ('matplotlib',  '3.10.5'),
    ('poetry', '2.1.3'),  # build for soxr
    ('scikit-build-core', '0.11.5'),
    ('nanobind', '2.9.2'),
]

dependencies = [
    ('Python', '3.13.5'),
    ('Python-bundle-PyPI', '2025.07'),  # to get joblib
    ('SciPy-bundle', '2025.07'),
    ('scikit-learn', '1.7.1'),
    ('FFmpeg', '7.1.2'),
    ('numba', '0.62.0'),
    ('libsndfile', '1.2.2'),
]

exts_list = [
    ('soxr', '1.0.0', {
        'patches': ['%(name)s-0.5.0.post1.patch'],
        'checksums': [
            {'soxr-1.0.0.tar.gz': 'e07ee6c1d659bc6957034f4800c60cb8b98de798823e34d2a2bba1caa85a4509'},
            {'soxr-0.5.0.post1.patch': '5ca9316d8524fcb1e81f4bfb0bfcfb5806050e936e33b6edef11ad0eed0e789c'},
        ],
    }),
    ('audioread', '3.0.1', {
        'checksums': ['ac5460a5498c48bdf2e8e767402583a4dcd13f4414d286f42ce4379e8b35066d'],
    }),
    ('soundfile', '0.13.1', {
        'checksums': ['b2c68dab1e30297317080a5b43df57e302584c49e2942defdde0acccc53f0e5b'],
    }),
    ('lazy_loader', '0.4', {
        'checksums': ['47c75182589b91a4e1a85a136c074285a5ad4d9f39c63e0d7fb76391c4574cd1'],
    }),
    ('resampy', '0.4.3', {
        'checksums': ['a0d1c28398f0e55994b739650afef4e3974115edbe96cd4bb81968425e916e47'],
    }),
    ('standard_aifc', '3.13.0', {
        'checksums': ['64e249c7cb4b3daf2fdba4e95721f811bde8bdfc43ad9f936589b7bb2fae2e43'],
    }),
    ('standard_sunau', '3.13.0', {
        'checksums': ['b319a1ac95a09a2378a8442f403c66f4fd4b36616d6df6ae82b8e536ee790908'],
    }),
    ('standard_chunk', '3.13.0', {
        'checksums': ['4ac345d37d7e686d2755e01836b8d98eda0d1a3ee90375e597ae43aaf064d654'],
    }),
    ('audioop_lts', '0.2.2', {
        'checksums': ['64d0c62d88e67b98a1a5e71987b7aa7b5bcffc7dcee65b635823dbdd0a8dbbd0'],
    }),
    (name, version, {
        'checksums': ['f5ed951ca189b375bbe2e33b2abd7e040ceeee302b9bbaeeffdfddb8d0ace908'],
    }),
]

moduleclass = 'lib'
