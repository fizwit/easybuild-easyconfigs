easyblock = 'ConfigureMake'

name = 'GAlib'
version = '2.4.7'

homepage = 'https://web.mit.edu/galib'
description = """GAlib is a set of C++ genetic algorithm objects.
The library includes tools for using genetic algorithms to do optimization in any C++ program.
"""

toolchain = {'name': 'GCC', 'version': '14.3.0'}
# http://lancet.mit.edu/ga/dist/galib247.tgz
source_urls = ['http://lancet.mit.edu/ga/dist/']
local_short_version = version.replace('.', '')
sources = [f'%(namelower)s{local_short_version}.tgz']
checksums = ['ea76b66ce4db4db2ed86e20d6d3ff144abaf73e33620104246639d9b2a465329']

skipstep = ['configure']

prebuildopts = "sed -i -e 's|-g -Wall|-Wall -fPIC -fpermissive -std=c++98 -O3|g' "
prebuildopts += "-e 's|DESTDIR=.*|DESTDIR=%(installdir)s|g' makevars && "
build_cmd_targets = 'lib install'

# sanity_check_paths = {
#    'files': ['bin/mash', 'lib/libmash.a'],
#    'dirs': ['include/mash'],
# }

# sanity_check_commands = ['mash --version']

moduleclass = 'tools'
