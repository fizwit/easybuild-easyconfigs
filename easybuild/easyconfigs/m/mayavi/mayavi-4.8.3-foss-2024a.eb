easyblock = 'PythonBundle'

name = 'mayavi'
version = '4.8.3'

homepage = 'http://code.enthought.com/projects/mayavi/'
description = """The Mayavi scientific data 3-dimensional visualizer"""

toolchain = {'name': 'foss', 'version': '2024a'}

dependencies = [
    ('Python', '3.12.3'),
    ('SciPy-bundle', '2024.05'),
    ('VTK', '9.3.1'),
    ('PyQt5', '5.15.11'),
]

exts_list = [
    ('configobj', '5.0.8', {
        'checksums': ['6f704434a07dc4f4dc7c9a745172c1cad449feb548febd9f7fe362629c627a97'],
    }),
    ('traits', '7.0.2', {
        'checksums': ['a563515809cb3911975de5a54209855f0b6fdb7ca6912a5e81de26529f70428c'],
    }),
    ('pyface', '8.0.0', {
        'checksums': ['7e13618347b7a648ed20cdbd4fd1a51648f5010291f35e4e0ff1bf70a720cbf8'],
    }),
    ('traitsui', '8.0.0', {
        'checksums': ['901b9d1cbc45513e00a7397677b098441b28774b688f30a159bad4801bf40364'],
    }),
    ('apptools', '5.3.1', {
        'checksums': ['7dd8f3a95ca02fc1c03f82cebbe6bed0f74e74fb93e4f66987fa4d8e606ff167'],
    }),
    ('envisage', '7.0.4', {
        'checksums': ['d6bb2938bbb45c4ef1766c55ed6f6c1c72b6fce70468ac9f5b0efcd1ef8c1d97'],
    }),
    ('puremagic', '1.30', {
        'checksums': ['f9ff7ac157d54e9cf3bff1addfd97233548e75e685282d84ae11e7ffee1614c9'],
    }),
    (name, version, {
        'preinstallopts': "export QT_QPA_PLATFORM=offscreen && ",
        'source_tmpl': 'mayavi-%(version)s.tar.gz',
        'checksums': ['ef69ccbdf58f20f1b394930d5e3a16dda4b1a39adcbc76f79abd26483d29acf5'],
    }),
]

sanity_check_paths = {
    'files': ['bin/mayavi2'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

moduleclass = 'vis'
